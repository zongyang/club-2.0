mixin index-li(active,href,text,icon)
  if page.admin
    li
      a.text-center(href='#{href}')
        span.glyphicon(class=icon)
        |  #{text}
  else
    if active
      li.active
        a.text-center(href='#{href}')
          span.glyphicon(class=icon)
          |  #{text}
    else
      li
        a.text-center(href='#{href}')
          span.glyphicon(class=icon)
          |  #{text}

doctype html
html(lang='zh-CN')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible',content='IE=edge')
    meta(name='viewport',content='width=device-width, initial-scale=1')
    meta(name='description',content='')
    meta(name='author',content='')
    title 中山大学智能硬件和数据分析俱乐部
    link(rel='icon',href='http://v3.bootcss.com/favicon.ico')
    link(rel='stylesheet', href='/bower_components/bootstrap/dist/css/bootstrap.min.css')
    link(rel='stylesheet', href='/bower_components/bootstrap-combobox/css/bootstrap-combobox.css')
    link(rel='stylesheet', href='/bower_components/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.min.css')
    link(rel='stylesheet', href='/layout.css')
    if page.admin
      link(rel='stylesheet',href='/admin/admin.css')
      link(rel='stylesheet',href='/admin/#{module}/#{module}.css')
    else
      link(rel='stylesheet',href='/#{module}/#{module}.css')
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    script(src='bower_components/html5shiv.min.js')
    script(src='bower_components/respond.min.js')
    <![endif]-->
  body

    //modal
    #modal.modal.fade(tabindex='-1', role='dialog',  aria-hidden='true')
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
            h3.title
          .modal-body
            p.info 
          .modal-footer
            button.btn.btn-default.cancle(data-dismiss='modal', aria-hidden='true') 取消
            button.btn.btn-primary.ok 确定
    
    nav.navbar-wrapper
      .container
        nav.navbar.navbar-inverse.navbar-static-top
          .container
            .navbar-header
              button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar')
                span.sr-only Toggle navigation
                span.icon-bar
                span.icon-bar
                span.icon-bar
              a.navbar-brand(href='#') 中山大学智能硬件和数据分析俱乐部
            #navbar.navbar-collapse.collapse
              ul.nav.navbar-nav
                +index-li(page.index,'/','主页','glyphicon-home')
                +index-li(page.introduce,'/introduce','社团简介','glyphicon-education')
                +index-li(page.member,'/member','人员组成','glyphicon-user')
                if _switch
                  +index-li(page.register,'/register','报名入口','glyphicon-registration-mark')
              unless page.admin
                ul.nav.navbar-nav.navbar-right 
                  li.dropdown
                    a.dropdown-toggle(href='#', data-toggle='dropdown', role='button', aria-expanded='false')
                      | 管理 
                      span.caret
                    ul.dropdown-menu(role='menu')
                      li
                        a(href='/admin/login') 后台管理
    block content

    // FOOTER
    footer.container
      .row
        .col-md-3
           address
            strong 中山大学智能硬件和数据分析俱乐部
            br
            abbr(title='Address') 地址:
            |   中山大学东校区南实验楼
            br
            abbr(title='Phone') 电话:
            |  020-7787788
        .col-md-6
        .col-md-3
          .text-right 
            a(href='#') 回到顶部
         
    //Bootstrap core JavaScript
    // Placed at the end of the document so the pages load faster
    script(type='text/javascript' src='/bower_components/jquery/dist/jquery.min.js')
    script(type='text/javascript' src='/bower_components/bootstrap/dist/js/bootstrap.min.js')
    //plugins
    script(type='text/javascript' src='/bower_components/bootstrap-combobox/js/bootstrap-combobox.js')
    script(type='text/javascript' src='/bower_components/bootstrap-switch/dist/js/bootstrap-switch.min.js')
    // IE10 viewport hack for Surface/desktop Windows 8 bug
    script(type='text/javascript' src='/bower_components/ie10-viewport-bug-workaround.js')

    script(type='text/javascript' src='/layout.js')
    script(type='text/javascript' src='/ueditor/ueditor.parse.min.js')
    if page.admin
      // 编辑器配置文件
      script(type='text/javascript', src='/ueditor/ueditor.config.js')
      // 编辑器源码文件
      script(type='text/javascript', src='/ueditor/ueditor.all.js')
      script(type='text/javascript' src='/admin/admin.js')
      script(type='text/javascript' src='/admin/#{module}/#{module}.js')
    else
      script(type='text/javascript' src='/#{module}/#{module}.js')

